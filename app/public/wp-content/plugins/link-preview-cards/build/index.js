(()=>{var e,t={181:(e,t,r)=>{var n=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,c=parseInt,l="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,s="object"==typeof self&&self&&self.Object===Object&&self,u=l||s||Function("return this")(),p=Object.prototype.toString,f=Math.max,v=Math.min,d=function(){return u.Date.now()};function m(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function w(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==p.call(e)}(e))return NaN;if(m(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=m(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(n,"");var r=a.test(e);return r||o.test(e)?c(e.slice(2),r?2:8):i.test(e)?NaN:+e}e.exports=function(e,t,r){var n,i,a,o,c,l,s=0,u=!1,p=!1,b=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function g(t){var r=n,a=i;return n=i=void 0,s=t,o=e.apply(a,r)}function h(e){var r=e-l;return void 0===l||r>=t||r<0||p&&e-s>=a}function y(){var e=d();if(h(e))return k(e);c=setTimeout(y,function(e){var r=t-(e-l);return p?v(r,a-(e-s)):r}(e))}function k(e){return c=void 0,b&&n?g(e):(n=i=void 0,o)}function O(){var e=d(),r=h(e);if(n=arguments,i=this,l=e,r){if(void 0===c)return function(e){return s=e,c=setTimeout(y,t),u?g(e):o}(l);if(p)return c=setTimeout(y,t),g(l)}return void 0===c&&(c=setTimeout(y,t)),o}return t=w(t)||0,m(r)&&(u=!!r.leading,a=(p="maxWait"in r)?f(w(r.maxWait)||0,t):a,b="trailing"in r?!!r.trailing:b),O.cancel=function(){void 0!==c&&clearTimeout(c),s=0,n=l=i=c=void 0},O.flush=function(){return void 0===c?o:k(d())},O}},638:(e,t,r)=>{"use strict";const n=window.wp.blocks,i=window.wp.i18n,a=window.wp.blockEditor,o=window.wp.components,c=window.React;var l=r(181);const s=window.wp.apiFetch;function u({url:e,title:t,description:r,image:n}){return e?c.createElement("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"link-preview-card"},n&&c.createElement("img",{src:n,alt:"",className:"link-preview-card-image"}),c.createElement("div",{className:"link-preview-card-content"},c.createElement("div",{className:"link-preview-card-title"},t||e),r&&c.createElement("div",{className:"link-preview-card-description"},r),c.createElement("div",{className:"link-preview-card-url"},e.replace(/^https?:\/\//,"").split("/")[0]))):null}function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},p.apply(null,arguments)}const f=JSON.parse('{"UU":"link-preview-cards/card"}');(0,n.registerBlockType)(f.UU,{edit:function({attributes:e,setAttributes:t}){const{url:r,title:n,description:p,image:f}=e,v=(0,c.useRef)(l(async(e,t)=>{try{const r=await s({path:`/linkpreviewcards/v1/fetch?url=${encodeURIComponent(e)}&nonce=${linkpreviewcards.nonce}`});t({title:r.title||"",description:r.description||"",image:r.image||""})}catch(e){t({title:"",description:"",image:""})}},600)).current;return(0,c.useEffect)(()=>{if(r)return v(r,t),()=>v.cancel()},[r]),React.createElement("div",(0,a.useBlockProps)(),React.createElement(o.TextControl,{label:(0,i.__)("Paste a URL to preview","link-preview-cards"),value:r,onChange:e=>t({url:e}),placeholder:"https://example.com"}),r&&React.createElement(u,{url:r,title:n,description:p,image:f}))},save:function({attributes:e}){return React.createElement("div",p({},a.useBlockProps.save(),{"data-url":e.url,"data-title":e.title,"data-description":e.description,"data-image":e.image}))}})}},r={};function n(e){var i=r[e];if(void 0!==i)return i.exports;var a=r[e]={exports:{}};return t[e](a,a.exports,n),a.exports}n.m=t,e=[],n.O=(t,r,i,a)=>{if(!r){var o=1/0;for(u=0;u<e.length;u++){for(var[r,i,a]=e[u],c=!0,l=0;l<r.length;l++)(!1&a||o>=a)&&Object.keys(n.O).every(e=>n.O[e](r[l]))?r.splice(l--,1):(c=!1,a<o&&(o=a));if(c){e.splice(u--,1);var s=i();void 0!==s&&(t=s)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[r,i,a]},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={57:0,350:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var i,a,[o,c,l]=r,s=0;if(o.some(t=>0!==e[t])){for(i in c)n.o(c,i)&&(n.m[i]=c[i]);if(l)var u=l(n)}for(t&&t(r);s<o.length;s++)a=o[s],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(u)},r=globalThis.webpackChunklink_preview_cards=globalThis.webpackChunklink_preview_cards||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var i=n.O(void 0,[350],()=>n(638));i=n.O(i)})();